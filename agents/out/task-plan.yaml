# Telegram Survey Bot MVP - Task Plan
# Project Timeline: 5 Weeks (25 working days)
# Generated: 2025-11-05

project_overview:
  name: "Telegram Survey Bot MVP"
  duration: "5 weeks"
  total_phases: 5
  tech_stack:
    backend: "C# .NET 8, ASP.NET Core"
    database: "PostgreSQL"
    frontend: "React/Vue.js"
    bot_library: "Telegram.Bot"
  success_criteria:
    - "Survey creation time < 5 minutes"
    - "Bot response time < 2 seconds"
    - "Admin panel load time < 3 seconds"

agent_assignments:
  project_setup: "Project Setup Agent"
  database: "Database Agent"
  backend_api: "Backend API Agent"
  telegram_bot: "Telegram Bot Agent"
  admin_panel: "Admin Panel Agent"
  testing: "Testing Agent"

# ============================================================================
# PHASE 1: FOUNDATION (Week 1 - Days 1-5)
# ============================================================================

phase_1_foundation:
  phase_number: 1
  phase_name: "Foundation"
  duration: "Week 1 (Days 1-5)"
  goals:
    - "Project structure and environment setup"
    - "Database schema and migrations"
    - "Core entity models"
    - "Basic API skeleton"

  tasks:
    - task_id: "TASK-001"
      title: "Initialize .NET Solution and Project Structure"
      assigned_to: "project_setup"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: []
      parallel_safe: true
      description: |
        Create the .NET 8 solution with the following projects:
        - SurveyBot.API (ASP.NET Core Web API)
        - SurveyBot.Core (Domain entities and interfaces)
        - SurveyBot.Infrastructure (Data access and external services)
        - SurveyBot.Bot (Telegram bot logic)
        - SurveyBot.Tests (Unit and integration tests)
      acceptance_criteria:
        - "Solution builds successfully"
        - "All projects reference correct dependencies"
        - "Project structure follows clean architecture"
        - "README.md with project structure documented"
      phase: 1
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-002"
      title: "Setup Docker Compose for PostgreSQL"
      assigned_to: "project_setup"
      priority: "High"
      effort: "S"
      estimated_hours: 2
      dependencies: []
      parallel_safe: true
      description: |
        Create docker-compose.yml for local PostgreSQL instance with:
        - PostgreSQL 15+ container
        - pgAdmin for database management
        - Environment variables configuration
        - Volume mapping for data persistence
      acceptance_criteria:
        - "Docker containers start successfully"
        - "PostgreSQL accessible on localhost:5432"
        - "pgAdmin accessible via browser"
        - "Connection string documented in appsettings.json"
      phase: 1
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-003"
      title: "Install and Configure Entity Framework Core"
      assigned_to: "project_setup"
      priority: "High"
      effort: "S"
      estimated_hours: 2
      dependencies: ["TASK-001"]
      parallel_safe: false
      description: |
        Install EF Core packages and configure:
        - EF Core 8.0
        - Npgsql.EntityFrameworkCore.PostgreSQL
        - EF Core Tools for migrations
        - Configure DbContext with connection string
      acceptance_criteria:
        - "EF Core packages installed in Infrastructure project"
        - "DbContext base class created"
        - "Connection string configured in appsettings"
        - "Database connection test successful"
      phase: 1
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-004"
      title: "Design Database Schema and ER Diagram"
      assigned_to: "database"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: []
      parallel_safe: true
      description: |
        Design complete database schema including:
        - Users (id, telegram_id, username, created_at)
        - Surveys (id, title, description, creator_id, is_active, created_at, updated_at)
        - Questions (id, survey_id, question_text, question_type, order, is_required, options_json)
        - Responses (id, survey_id, respondent_telegram_id, submitted_at)
        - Answers (id, response_id, question_id, answer_text, answer_json)
      acceptance_criteria:
        - "ER diagram created and documented"
        - "All relationships defined (one-to-many, etc.)"
        - "Indexes identified for performance"
        - "Schema reviewed and approved"
      phase: 1
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-005"
      title: "Create Entity Models (Domain Layer)"
      assigned_to: "database"
      priority: "High"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-004"]
      parallel_safe: false
      description: |
        Implement C# entity classes in Core project:
        - User entity with validation
        - Survey entity with navigation properties
        - Question entity with QuestionType enum
        - Response and Answer entities
        - Base entity class with common properties (Id, CreatedAt, UpdatedAt)
      acceptance_criteria:
        - "All entity classes created with proper properties"
        - "Navigation properties configured"
        - "Data annotations for validation added"
        - "QuestionType enum defined (Text, SingleChoice, MultipleChoice, Rating)"
      phase: 1
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-006"
      title: "Configure DbContext and Entity Configurations"
      assigned_to: "database"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-003", "TASK-005"]
      parallel_safe: false
      description: |
        Create SurveyBotDbContext with:
        - DbSet properties for all entities
        - Fluent API configurations (IEntityTypeConfiguration)
        - Relationship mappings
        - Index definitions
        - Default values and constraints
      acceptance_criteria:
        - "DbContext configured with all entities"
        - "Separate configuration classes for each entity"
        - "Foreign key relationships properly defined"
        - "Indexes created for telegram_id and survey_id"
      phase: 1
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-007"
      title: "Create Initial Database Migration"
      assigned_to: "database"
      priority: "High"
      effort: "S"
      estimated_hours: 2
      dependencies: ["TASK-006"]
      parallel_safe: false
      description: |
        Generate and apply initial migration:
        - Run Add-Migration InitialCreate
        - Review generated migration code
        - Apply migration to database
        - Verify all tables created correctly
      acceptance_criteria:
        - "Migration file generated successfully"
        - "Migration applied without errors"
        - "All tables exist in PostgreSQL"
        - "Relationships and constraints verified in database"
      phase: 1
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-008"
      title: "Setup Repository Pattern Interfaces"
      assigned_to: "backend_api"
      priority: "High"
      effort: "M"
      estimated_hours: 3
      dependencies: ["TASK-005"]
      parallel_safe: false
      description: |
        Define repository interfaces in Core project:
        - IRepository<T> generic interface
        - ISurveyRepository with survey-specific methods
        - IQuestionRepository
        - IResponseRepository
        - IUserRepository
      acceptance_criteria:
        - "Generic repository interface with CRUD operations"
        - "Specific repository interfaces for each entity"
        - "Async method signatures (Task<T>)"
        - "Interfaces follow SOLID principles"
      phase: 1
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-009"
      title: "Implement Repository Pattern Classes"
      assigned_to: "backend_api"
      priority: "High"
      effort: "L"
      estimated_hours: 6
      dependencies: ["TASK-008", "TASK-006"]
      parallel_safe: false
      description: |
        Implement repositories in Infrastructure project:
        - GenericRepository<T> base class
        - SurveyRepository with EF Core queries
        - QuestionRepository
        - ResponseRepository
        - UserRepository
      acceptance_criteria:
        - "All repository classes implemented"
        - "CRUD operations working with EF Core"
        - "Async/await used throughout"
        - "Include/ThenInclude for related entities"
      phase: 1
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-010"
      title: "Setup Dependency Injection Container"
      assigned_to: "backend_api"
      priority: "High"
      effort: "S"
      estimated_hours: 2
      dependencies: ["TASK-009"]
      parallel_safe: false
      description: |
        Configure DI in Program.cs:
        - Register DbContext with lifetime scope
        - Register repositories
        - Register services (to be created in Phase 2)
        - Configure logging
      acceptance_criteria:
        - "All dependencies registered correctly"
        - "DbContext configured with proper lifetime"
        - "DI container builds successfully"
        - "Service resolution tested"
      phase: 1
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-011"
      title: "Create Basic API Controllers Structure"
      assigned_to: "backend_api"
      priority: "Medium"
      effort: "S"
      estimated_hours: 2
      dependencies: ["TASK-001"]
      parallel_safe: false
      description: |
        Create empty API controller classes:
        - SurveysController with route attributes
        - QuestionsController
        - ResponsesController
        - UsersController
        - Health check endpoint
      acceptance_criteria:
        - "Controller classes created with [ApiController] attribute"
        - "Route patterns defined"
        - "Health endpoint returns 200 OK"
        - "Swagger UI accessible"
      phase: 1
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-012"
      title: "Configure Swagger/OpenAPI Documentation"
      assigned_to: "backend_api"
      priority: "Medium"
      effort: "S"
      estimated_hours: 2
      dependencies: ["TASK-011"]
      parallel_safe: false
      description: |
        Setup Swagger for API documentation:
        - Install Swashbuckle.AspNetCore
        - Configure SwaggerGen in Program.cs
        - Add XML comments for API documentation
        - Configure JWT bearer for Swagger UI
      acceptance_criteria:
        - "Swagger UI accessible at /swagger"
        - "All endpoints documented"
        - "Request/response schemas visible"
        - "JWT authentication configured in Swagger"
      phase: 1
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-013"
      title: "Setup Logging and Error Handling Middleware"
      assigned_to: "backend_api"
      priority: "Medium"
      effort: "M"
      estimated_hours: 3
      dependencies: ["TASK-010"]
      parallel_safe: false
      description: |
        Implement global error handling:
        - Custom exception middleware
        - Structured logging with Serilog
        - Error response models
        - Exception filtering
      acceptance_criteria:
        - "Global exception handler catches all errors"
        - "Consistent error response format"
        - "Logs written to console and file"
        - "Sensitive data not logged"
      phase: 1
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-014"
      title: "Create Seed Data for Development"
      assigned_to: "database"
      priority: "Low"
      effort: "S"
      estimated_hours: 2
      dependencies: ["TASK-007"]
      parallel_safe: false
      description: |
        Create database seeder for test data:
        - Sample users
        - 2-3 sample surveys
        - Questions for each survey
        - Sample responses
      acceptance_criteria:
        - "Seed data script created"
        - "Data seeds successfully on clean database"
        - "Covers all question types"
        - "Realistic test data"
      phase: 1
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-015"
      title: "Phase 1 Testing: Foundation Components"
      assigned_to: "testing"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-009", "TASK-013"]
      parallel_safe: false
      description: |
        Create unit tests for Phase 1:
        - Repository pattern tests with InMemory database
        - Entity validation tests
        - DbContext configuration tests
        - DI container resolution tests
      acceptance_criteria:
        - "All repository CRUD operations tested"
        - "Entity validation rules tested"
        - "Test coverage > 80% for Phase 1 code"
        - "All tests passing"
      phase: 1
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-016"
      title: "Phase 1 Documentation: Architecture and Setup"
      assigned_to: "project_setup"
      priority: "Medium"
      effort: "S"
      estimated_hours: 2
      dependencies: ["TASK-015"]
      parallel_safe: false
      description: |
        Document Phase 1 deliverables:
        - Update README with setup instructions
        - Document database schema
        - Document project architecture
        - Create developer onboarding guide
      acceptance_criteria:
        - "README.md complete with setup steps"
        - "Database ER diagram included"
        - "Architecture diagram created"
        - "New developer can setup environment from docs"
      phase: 1
      status: "completed"
      completed_date: "2025-11-05"

# ============================================================================
# PHASE 2: CORE FEATURES (Week 2 - Days 6-10)
# ============================================================================

phase_2_core_features:
  phase_number: 2
  phase_name: "Core Features"
  duration: "Week 2 (Days 6-10)"
  goals:
    - "Survey CRUD operations"
    - "Question management"
    - "Basic bot commands"
    - "Authentication system"

  tasks:
    - task_id: "TASK-017"
      title: "Implement JWT Authentication System"
      assigned_to: "backend_api"
      priority: "High"
      effort: "L"
      estimated_hours: 6
      dependencies: ["TASK-010"]
      parallel_safe: false
      description: |
        Setup JWT-based authentication:
        - Install Microsoft.AspNetCore.Authentication.JwtBearer
        - Create AuthService for token generation
        - Implement login endpoint
        - Configure JWT validation middleware
        - Create [Authorize] attribute usage
      acceptance_criteria:
        - "JWT tokens generated on successful login"
        - "Token validation working"
        - "Protected endpoints require valid token"
        - "Token expiration handled"
      phase: 2
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-018"
      title: "Create DTO Models for API Requests/Responses"
      assigned_to: "backend_api"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-005"]
      parallel_safe: true
      description: |
        Create Data Transfer Objects:
        - SurveyDto, CreateSurveyDto, UpdateSurveyDto
        - QuestionDto, CreateQuestionDto
        - ResponseDto, AnswerDto
        - UserDto, LoginDto
        - Validation attributes on DTOs
      acceptance_criteria:
        - "All DTOs created in separate project/folder"
        - "Validation attributes added"
        - "Separate DTOs for create/update/read operations"
        - "JSON serialization configured"
      phase: 2
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-019"
      title: "Setup AutoMapper for DTO Mapping"
      assigned_to: "backend_api"
      priority: "High"
      effort: "S"
      estimated_hours: 2
      dependencies: ["TASK-018"]
      parallel_safe: false
      description: |
        Configure AutoMapper:
        - Install AutoMapper.Extensions.Microsoft.DependencyInjection
        - Create mapping profiles for all entities
        - Register AutoMapper in DI
        - Create custom value resolvers if needed
      acceptance_criteria:
        - "AutoMapper configured in DI"
        - "Mapping profiles for all entities"
        - "Bi-directional mappings (Entity <-> DTO)"
        - "Mapping tests passing"
      phase: 2
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-020"
      title: "Implement Survey Service Layer"
      assigned_to: "backend_api"
      priority: "High"
      effort: "L"
      estimated_hours: 6
      dependencies: ["TASK-019"]
      parallel_safe: false
      description: |
        Create ISurveyService and implementation:
        - CreateSurveyAsync(CreateSurveyDto)
        - UpdateSurveyAsync(id, UpdateSurveyDto)
        - DeleteSurveyAsync(id)
        - GetSurveyByIdAsync(id)
        - GetAllSurveysAsync(userId, filters)
        - ActivateSurveyAsync(id) / DeactivateSurveyAsync(id)
      acceptance_criteria:
        - "All CRUD operations implemented"
        - "Business logic separated from controllers"
        - "Proper error handling with custom exceptions"
        - "Authorization checks (user owns survey)"
      phase: 2
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-021"
      title: "Implement Surveys Controller Endpoints"
      assigned_to: "backend_api"
      priority: "High"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-020"]
      parallel_safe: false
      description: |
        Implement SurveysController endpoints:
        - POST /api/surveys (create)
        - GET /api/surveys (list with pagination)
        - GET /api/surveys/{id} (get by id)
        - PUT /api/surveys/{id} (update)
        - DELETE /api/surveys/{id} (soft delete)
        - POST /api/surveys/{id}/activate
        - POST /api/surveys/{id}/deactivate
      acceptance_criteria:
        - "All endpoints return correct status codes"
        - "Request validation working"
        - "Pagination implemented for list endpoint"
        - "Authorization applied to all endpoints"
      phase: 2
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-022"
      title: "Implement Question Service Layer"
      assigned_to: "backend_api"
      priority: "High"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-019"]
      parallel_safe: false
      description: |
        Create IQuestionService and implementation:
        - AddQuestionAsync(surveyId, CreateQuestionDto)
        - UpdateQuestionAsync(id, UpdateQuestionDto)
        - DeleteQuestionAsync(id)
        - ReorderQuestionsAsync(surveyId, questionIds[])
        - ValidateQuestionOptions (for choice types)
      acceptance_criteria:
        - "Questions can be added to surveys"
        - "Question type validation working"
        - "Options JSON properly handled"
        - "Question ordering maintained"
      phase: 2
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-023"
      title: "Implement Questions Controller Endpoints"
      assigned_to: "backend_api"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-022"]
      parallel_safe: false
      description: |
        Implement QuestionsController endpoints:
        - POST /api/surveys/{surveyId}/questions (add)
        - PUT /api/questions/{id} (update)
        - DELETE /api/questions/{id} (delete)
        - POST /api/surveys/{surveyId}/questions/reorder
        - GET /api/surveys/{surveyId}/questions (list)
      acceptance_criteria:
        - "All endpoints working correctly"
        - "Validation for question types"
        - "Cannot modify questions of active surveys"
        - "Reordering updates all question orders"
      phase: 2
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-024"
      title: "Setup Telegram Bot Project and Configuration"
      assigned_to: "telegram_bot"
      priority: "High"
      effort: "M"
      estimated_hours: 3
      dependencies: ["TASK-001"]
      parallel_safe: true
      description: |
        Initialize Telegram bot setup:
        - Install Telegram.Bot NuGet package
        - Create bot configuration class
        - Setup bot token from appsettings
        - Create bot client service
        - Configure webhook URL
      acceptance_criteria:
        - "Telegram.Bot library installed"
        - "Bot token configured securely"
        - "BotService class created"
        - "Bot can receive updates"
      phase: 2
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-025"
      title: "Implement Basic Bot Command Handlers"
      assigned_to: "telegram_bot"
      priority: "High"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-024"]
      parallel_safe: false
      description: |
        Create command handlers:
        - /start - Welcome message and user registration
        - /help - List available commands
        - /mysurveys - List user's surveys
        - Command routing logic
        - Basic error responses
      acceptance_criteria:
        - "/start command registers new users"
        - "/help returns command list"
        - "/mysurveys shows user's surveys"
        - "Unknown commands handled gracefully"
      phase: 2
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-026"
      title: "Implement Bot Webhook Controller"
      assigned_to: "telegram_bot"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-025"]
      parallel_safe: false
      description: |
        Create webhook endpoint for Telegram:
        - POST /api/bot/webhook endpoint
        - Update model validation
        - Route to appropriate handlers
        - Async processing of updates
        - Webhook security validation
      acceptance_criteria:
        - "Webhook endpoint receives Telegram updates"
        - "Updates routed to correct handlers"
        - "Invalid updates rejected"
        - "Response time < 2 seconds"
      phase: 2
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-027"
      title: "Create User Registration and Authentication Flow"
      assigned_to: "telegram_bot"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-017", "TASK-025"]
      parallel_safe: false
      description: |
        Implement user registration via bot:
        - Extract Telegram user info on /start
        - Create user record if not exists
        - Link Telegram ID to user account
        - Generate authentication token for API
      acceptance_criteria:
        - "New users created on /start"
        - "Existing users recognized"
        - "User data synced with database"
        - "No duplicate users created"
      phase: 2
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-028"
      title: "Implement Response Service Layer"
      assigned_to: "backend_api"
      priority: "Medium"
      effort: "L"
      estimated_hours: 6
      dependencies: ["TASK-019"]
      parallel_safe: false
      description: |
        Create IResponseService and implementation:
        - StartResponseAsync(surveyId, telegramUserId)
        - SaveAnswerAsync(responseId, questionId, answer)
        - CompleteResponseAsync(responseId)
        - GetResponseAsync(id)
        - Validate answer format based on question type
      acceptance_criteria:
        - "Response creation working"
        - "Answers saved correctly"
        - "Answer validation by question type"
        - "Response completion marks timestamp"
      phase: 2
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-029"
      title: "Implement Responses Controller Endpoints"
      assigned_to: "backend_api"
      priority: "Medium"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-028"]
      parallel_safe: false
      description: |
        Implement ResponsesController endpoints:
        - GET /api/surveys/{surveyId}/responses (list)
        - GET /api/responses/{id} (get single)
        - POST /api/responses (create/start)
        - POST /api/responses/{id}/answers (save answer)
        - POST /api/responses/{id}/complete
      acceptance_criteria:
        - "All endpoints working"
        - "Response data includes all answers"
        - "Only survey owners can view responses"
        - "Pagination for response lists"
      phase: 2
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-030"
      title: "Phase 2 Testing: Core Features"
      assigned_to: "testing"
      priority: "High"
      effort: "L"
      estimated_hours: 6
      dependencies: ["TASK-021", "TASK-023", "TASK-029", "TASK-026"]
      parallel_safe: false
      description: |
        Create tests for Phase 2:
        - Service layer unit tests
        - Controller integration tests
        - API endpoint tests with TestServer
        - Bot command handler tests
        - Authentication flow tests
      acceptance_criteria:
        - "All service methods tested"
        - "API endpoints tested with various inputs"
        - "Bot commands tested"
        - "Test coverage > 80% for Phase 2"
      phase: 2
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-031"
      title: "Phase 2 Documentation: API and Bot Usage"
      assigned_to: "backend_api"
      priority: "Medium"
      effort: "S"
      estimated_hours: 2
      dependencies: ["TASK-030"]
      parallel_safe: false
      description: |
        Document Phase 2 deliverables:
        - API endpoint documentation
        - Authentication flow documentation
        - Bot command reference
        - Request/response examples
      acceptance_criteria:
        - "API documentation complete"
        - "Bot commands documented"
        - "Example requests provided"
        - "Postman collection created"
      phase: 2
      status: "completed"
      completed_date: "2025-11-05"

# ============================================================================
# PHASE 3: BOT INTEGRATION (Week 3 - Days 11-15)
# ============================================================================

phase_3_bot_integration:
  phase_number: 3
  phase_name: "Bot Integration"
  duration: "Week 3 (Days 11-15)"
  goals:
    - "Survey delivery via bot"
    - "Response collection flow"
    - "Conversation state management"
    - "Error handling and validation"

  tasks:
    - task_id: "TASK-032"
      title: "Design Bot Conversation State Machine"
      assigned_to: "telegram_bot"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-026"]
      parallel_safe: false
      description: |
        Design state management for survey flow:
        - Define conversation states (Idle, InSurvey, AnsweringQuestion, etc.)
        - State transition logic
        - State storage strategy (memory/Redis/database)
        - Timeout handling for inactive sessions
      acceptance_criteria:
        - "State machine diagram created"
        - "All states and transitions defined"
        - "State persistence strategy decided"
        - "Timeout logic designed"
      phase: 3
      status: "completed"
      completed_date: "2025-11-05"

    - task_id: "TASK-033"
      title: "Implement Conversation State Manager"
      assigned_to: "telegram_bot"
      priority: "High"
      effort: "L"
      estimated_hours: 7
      dependencies: ["TASK-032"]
      parallel_safe: false
      description: |
        Implement state management:
        - ConversationStateManager class
        - State storage (in-memory with expiration)
        - Get/Set/Clear state methods
        - State validation
        - Concurrent access handling
      acceptance_criteria:
        - "State manager handles user states"
        - "States persist across messages"
        - "States expire after timeout"
        - "Thread-safe implementation"
      phase: 3
      status: "completed"
      completed_date: "2025-11-07"

    - task_id: "TASK-034"
      title: "Implement Survey Start Command (/survey)"
      assigned_to: "telegram_bot"
      priority: "High"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-033"]
      parallel_safe: false
      description: |
        Create /survey command handler:
        - Parse survey ID or code from command
        - Validate survey is active
        - Check if user already responded
        - Initialize response record
        - Display first question
      acceptance_criteria:
        - "/survey <code> starts survey"
        - "Invalid survey codes handled"
        - "Inactive surveys rejected"
        - "Duplicate responses prevented"
      phase: 3
      status: "completed"
      completed_date: "2025-11-07"

    - task_id: "TASK-035"
      title: "Implement Text Question Handler"
      assigned_to: "telegram_bot"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-034"]
      parallel_safe: false
      description: |
        Handle text question responses:
        - Display text input prompt
        - Capture user's text response
        - Validate required fields
        - Save answer to database
        - Proceed to next question
      acceptance_criteria:
        - "Text questions display correctly"
        - "User responses captured"
        - "Required validation works"
        - "Answers saved correctly"
      phase: 3
      status: "completed"
      completed_date: "2025-11-07"

    - task_id: "TASK-036"
      title: "Implement Single Choice Question Handler"
      assigned_to: "telegram_bot"
      priority: "High"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-034"]
      parallel_safe: false
      description: |
        Handle single choice questions:
        - Display options as inline keyboard
        - Capture callback query
        - Validate selection
        - Save answer
        - Move to next question
      acceptance_criteria:
        - "Options displayed as buttons"
        - "User can select one option"
        - "Selection validated"
        - "Answer saved with option text"
      phase: 3
      status: "completed"
      completed_date: "2025-11-07"

    - task_id: "TASK-037"
      title: "Implement Multiple Choice Question Handler"
      assigned_to: "telegram_bot"
      priority: "High"
      effort: "L"
      estimated_hours: 6
      dependencies: ["TASK-034"]
      parallel_safe: false
      description: |
        Handle multiple choice questions:
        - Display options as checkboxes (inline keyboard)
        - Allow multiple selections
        - Show "Done" button
        - Validate at least one selection
        - Save answer as JSON array
      acceptance_criteria:
        - "Multiple options selectable"
        - "Selected items marked (checkmark)"
        - "Done button completes selection"
        - "Answer saved as array"
      phase: 3
      status: "completed"
      completed_date: "2025-11-07"

    - task_id: "TASK-038"
      title: "Implement Rating Question Handler"
      assigned_to: "telegram_bot"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-034"]
      parallel_safe: false
      description: |
        Handle rating questions:
        - Display rating scale (1-5 or 1-10) as inline keyboard
        - Capture rating selection
        - Validate rating in range
        - Save numeric answer
        - Proceed to next question
      acceptance_criteria:
        - "Rating scale displayed as buttons"
        - "User selects rating"
        - "Rating validated (1-5 or 1-10)"
        - "Numeric answer saved"
      phase: 3
      status: "completed"
      completed_date: "2025-11-07"

    - task_id: "TASK-039"
      title: "Implement Survey Completion Flow"
      assigned_to: "telegram_bot"
      priority: "High"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-035", "TASK-036", "TASK-037", "TASK-038"]
      parallel_safe: false
      description: |
        Complete survey flow:
        - Detect last question answered
        - Mark response as completed
        - Clear conversation state
        - Send thank you message
        - Offer to take another survey
      acceptance_criteria:
        - "Survey completes after last question"
        - "Response marked complete in DB"
        - "State cleared"
        - "Thank you message sent"
      phase: 3
      status: "completed"
      completed_date: "2025-11-07"

    - task_id: "TASK-040"
      title: "Implement Survey Navigation (Back/Skip)"
      assigned_to: "telegram_bot"
      priority: "Medium"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-039"]
      parallel_safe: false
      description: |
        Add navigation controls:
        - Back button to previous question
        - Skip button for optional questions
        - Update state on navigation
        - Handle edge cases (first/last question)
      acceptance_criteria:
        - "Back button works except on first question"
        - "Skip works only for optional questions"
        - "Navigation updates state correctly"
        - "Previous answers displayed when going back"
      phase: 3
      status: "completed"
      completed_date: "2025-11-10"

    - task_id: "TASK-041"
      title: "Implement Survey Cancellation (/cancel)"
      assigned_to: "telegram_bot"
      priority: "Medium"
      effort: "S"
      estimated_hours: 3
      dependencies: ["TASK-033"]
      parallel_safe: false
      description: |
        Handle survey cancellation:
        - /cancel command during survey
        - Confirm cancellation prompt
        - Delete incomplete response
        - Clear conversation state
        - Return to idle state
      acceptance_criteria:
        - "/cancel stops current survey"
        - "Confirmation message shown"
        - "Incomplete response deleted"
        - "State cleared"
      phase: 3
      status: "completed"
      completed_date: "2025-11-10"

    - task_id: "TASK-042"
      title: "Implement Input Validation and Error Handling"
      assigned_to: "telegram_bot"
      priority: "High"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-039"]
      parallel_safe: false
      description: |
        Add comprehensive validation:
        - Validate answer formats
        - Handle invalid inputs gracefully
        - Show helpful error messages
        - Retry mechanism for invalid inputs
        - Timeout handling for inactive users
      acceptance_criteria:
        - "Invalid inputs show clear error messages"
        - "User can retry after error"
        - "All question types validated"
        - "Inactive sessions timeout after 30 minutes"
      phase: 3
      status: "completed"
      completed_date: "2025-11-10"

    - task_id: "TASK-043"
      title: "Implement Survey Code Generation System"
      assigned_to: "backend_api"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-020"]
      parallel_safe: false
      description: |
        Create survey code generation:
        - Generate unique short code for each survey
        - Add code field to Survey entity
        - Migration to add code column
        - Code validation and lookup
        - Ensure code uniqueness
      acceptance_criteria:
        - "Unique code generated on survey creation"
        - "Code is short (6-8 characters)"
        - "Code lookup working"
        - "Codes are URL-safe"
      phase: 3
      status: "completed"
      completed_date: "2025-11-10"

    - task_id: "TASK-044"
      title: "Implement Bot Response Time Optimization"
      assigned_to: "telegram_bot"
      priority: "Medium"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-042"]
      parallel_safe: false
      description: |
        Optimize bot performance:
        - Async/await throughout
        - Database query optimization
        - Caching for active surveys
        - Response time monitoring
        - Load testing and tuning
      acceptance_criteria:
        - "Bot responds in < 2 seconds"
        - "No blocking operations"
        - "Queries optimized"
        - "Response time logged"
      phase: 3
      status: "completed"
      completed_date: "2025-11-10"

    - task_id: "TASK-045"
      title: "Implement Admin Bot Commands"
      assigned_to: "telegram_bot"
      priority: "Low"
      effort: "S"
      estimated_hours: 3
      dependencies: ["TASK-025"]
      parallel_safe: false
      description: |
        Create admin-only commands:
        - /createsurvey - Start survey creation flow
        - /listsurveys - List user's surveys
        - /activate <code> - Activate survey
        - /deactivate <code> - Deactivate survey
        - /stats <code> - Quick stats
      acceptance_criteria:
        - "Admin commands available"
        - "Commands require authentication"
        - "Basic survey management via bot"
        - "Error handling for all commands"
      phase: 3
      status: "completed"
      completed_date: "2025-11-10"

    - task_id: "TASK-046"
      title: "Phase 3 Testing: Bot Integration"
      assigned_to: "testing"
      priority: "High"
      effort: "L"
      estimated_hours: 7
      dependencies: ["TASK-042", "TASK-044"]
      parallel_safe: false
      description: |
        Test bot functionality:
        - End-to-end survey flow tests
        - State management tests
        - All question type handlers
        - Navigation tests
        - Error handling tests
        - Performance tests (response time)
      acceptance_criteria:
        - "Complete survey flow tested"
        - "All question types work correctly"
        - "Navigation tested thoroughly"
        - "Response time meets < 2s requirement"
      phase: 3
      status: "completed"
      completed_date: "2025-11-10"

    - task_id: "TASK-047"
      title: "Phase 3 Documentation: Bot User Guide"
      assigned_to: "telegram_bot"
      priority: "Medium"
      effort: "S"
      estimated_hours: 3
      dependencies: ["TASK-046"]
      parallel_safe: false
      description: |
        Document bot usage:
        - User guide for taking surveys
        - Command reference
        - Screenshots/GIFs of survey flow
        - Troubleshooting guide
        - Admin command documentation
      acceptance_criteria:
        - "Complete user guide created"
        - "All commands documented"
        - "Visual examples included"
        - "FAQ section added"
      phase: 3
      status: "completed"
      completed_date: "2025-11-10"

# ============================================================================
# PHASE 4: ADMIN PANEL (Week 4 - Days 16-20)
# ============================================================================

phase_4_admin_panel:
  phase_number: 4
  phase_name: "Admin Panel"
  duration: "Week 4 (Days 16-20)"
  goals:
    - "React/Vue.js frontend setup"
    - "Survey builder UI"
    - "Statistics dashboard"
    - "CSV export functionality"

  tasks:
    - task_id: "TASK-048"
      title: "Initialize Frontend Project (React or Vue.js)"
      assigned_to: "admin_panel"
      priority: "High"
      effort: "M"
      estimated_hours: 3
      dependencies: []
      parallel_safe: true
      description: |
        Setup frontend project:
        - Create React app with Vite or Vue CLI
        - Configure TypeScript
        - Setup routing (React Router/Vue Router)
        - Configure Axios for API calls
        - Setup environment variables
      acceptance_criteria:
        - "Frontend project created and builds"
        - "TypeScript configured"
        - "Routing setup"
        - "API client configured"
      phase: 4
      status: "pending"

    - task_id: "TASK-049"
      title: "Setup UI Component Library and Styling"
      assigned_to: "admin_panel"
      priority: "High"
      effort: "S"
      estimated_hours: 2
      dependencies: ["TASK-048"]
      parallel_safe: false
      description: |
        Configure UI framework:
        - Install UI library (MUI/Ant Design/Vuetify)
        - Setup theme configuration
        - Configure Tailwind CSS or CSS-in-JS
        - Create base layout components
      acceptance_criteria:
        - "UI library installed and working"
        - "Theme configured"
        - "Base layout created"
        - "Responsive design setup"
      phase: 4
      status: "pending"

    - task_id: "TASK-050"
      title: "Implement Authentication Pages (Login/Register)"
      assigned_to: "admin_panel"
      priority: "High"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-049"]
      parallel_safe: false
      description: |
        Create authentication UI:
        - Login page with form validation
        - Registration page (if needed)
        - JWT token storage (localStorage/cookies)
        - Protected route handling
        - Auto-redirect on token expiry
      acceptance_criteria:
        - "Login page functional"
        - "JWT token stored securely"
        - "Protected routes redirect to login"
        - "Token refresh handled"
      phase: 4
      status: "pending"

    - task_id: "TASK-051"
      title: "Create Main Dashboard Layout and Navigation"
      assigned_to: "admin_panel"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-050"]
      parallel_safe: false
      description: |
        Build dashboard layout:
        - App shell with sidebar/navbar
        - Navigation menu
        - User profile dropdown
        - Logout functionality
        - Responsive mobile menu
      acceptance_criteria:
        - "Dashboard layout created"
        - "Navigation working"
        - "Mobile responsive"
        - "User info displayed"
      phase: 4
      status: "pending"

    - task_id: "TASK-052"
      title: "Implement Survey List Page"
      assigned_to: "admin_panel"
      priority: "High"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-051"]
      parallel_safe: false
      description: |
        Create surveys list view:
        - Table/grid of user's surveys
        - Search and filter functionality
        - Active/inactive status display
        - Actions (edit, delete, view stats)
        - Pagination
        - Create new survey button
      acceptance_criteria:
        - "Surveys displayed in list/grid"
        - "Search/filter working"
        - "Pagination functional"
        - "Actions working"
      phase: 4
      status: "pending"

    - task_id: "TASK-053"
      title: "Implement Survey Builder - Basic Info Step"
      assigned_to: "admin_panel"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-052"]
      parallel_safe: false
      description: |
        Create survey builder (Step 1):
        - Multi-step form wizard
        - Basic info form (title, description)
        - Form validation
        - Draft saving
        - Step navigation
      acceptance_criteria:
        - "Multi-step wizard working"
        - "Basic info form validated"
        - "Draft auto-save working"
        - "Navigation between steps"
      phase: 4
      status: "pending"

    - task_id: "TASK-054"
      title: "Implement Survey Builder - Question Editor"
      assigned_to: "admin_panel"
      priority: "High"
      effort: "XL"
      estimated_hours: 10
      dependencies: ["TASK-053"]
      parallel_safe: false
      description: |
        Create question builder (Step 2):
        - Add question button
        - Question type selector
        - Text question form
        - Single/multiple choice with option management
        - Rating question configuration
        - Drag-and-drop reordering
        - Delete question
        - Required field toggle
      acceptance_criteria:
        - "All 4 question types supported"
        - "Add/edit/delete questions working"
        - "Drag-and-drop reordering functional"
        - "Options management for choice questions"
      phase: 4
      status: "pending"

    - task_id: "TASK-055"
      title: "Implement Survey Builder - Review and Publish"
      assigned_to: "admin_panel"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-054"]
      parallel_safe: false
      description: |
        Create review step (Step 3):
        - Preview survey
        - Validation before publish
        - Publish button
        - Copy survey code/link
        - Share instructions
      acceptance_criteria:
        - "Survey preview accurate"
        - "Validation prevents invalid surveys"
        - "Publish creates active survey"
        - "Survey code displayed"
      phase: 4
      status: "pending"

    - task_id: "TASK-056"
      title: "Implement Survey Edit Functionality"
      assigned_to: "admin_panel"
      priority: "Medium"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-055"]
      parallel_safe: false
      description: |
        Allow editing surveys:
        - Load existing survey into builder
        - Update survey and questions
        - Handle active survey restrictions
        - Validation on update
      acceptance_criteria:
        - "Existing surveys can be loaded"
        - "Updates saved correctly"
        - "Cannot edit questions of active surveys with responses"
        - "Validation works on edit"
      phase: 4
      status: "pending"

    - task_id: "TASK-057"
      title: "Implement Statistics Dashboard Page"
      assigned_to: "admin_panel"
      priority: "High"
      effort: "XL"
      estimated_hours: 10
      dependencies: ["TASK-051"]
      parallel_safe: false
      description: |
        Create statistics view:
        - Overview metrics (total responses, completion rate)
        - Response list table
        - Per-question statistics
        - Charts for choice questions (pie/bar charts)
        - Rating averages
        - Text response list
        - Date range filter
      acceptance_criteria:
        - "Overview metrics displayed"
        - "Response list with pagination"
        - "Charts for choice questions"
        - "All question types have statistics"
      phase: 4
      status: "pending"

    - task_id: "TASK-058"
      title: "Implement CSV Export Functionality"
      assigned_to: "admin_panel"
      priority: "Medium"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-057"]
      parallel_safe: false
      description: |
        Create export feature:
        - Export button on statistics page
        - Generate CSV from responses
        - Include all questions as columns
        - Include timestamp, respondent ID
        - Download file functionality
      acceptance_criteria:
        - "Export button triggers download"
        - "CSV includes all responses"
        - "Headers are question texts"
        - "File downloads correctly"
      phase: 4
      status: "pending"

    - task_id: "TASK-059"
      title: "Implement Backend CSV Export Endpoint"
      assigned_to: "backend_api"
      priority: "Medium"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-029"]
      parallel_safe: true
      description: |
        Create CSV export API:
        - GET /api/surveys/{id}/export endpoint
        - Query responses with all answers
        - Generate CSV format
        - Set proper content-type headers
        - Handle large datasets
      acceptance_criteria:
        - "Endpoint returns CSV file"
        - "All responses included"
        - "CSV format correct"
        - "Works with large response sets"
      phase: 4
      status: "pending"

    - task_id: "TASK-060"
      title: "Implement Survey Activation/Deactivation UI"
      assigned_to: "admin_panel"
      priority: "Medium"
      effort: "S"
      estimated_hours: 3
      dependencies: ["TASK-052"]
      parallel_safe: false
      description: |
        Add activation controls:
        - Toggle switch on survey list
        - Activate/deactivate confirmation
        - Update survey status
        - Visual indication of status
      acceptance_criteria:
        - "Toggle switch works"
        - "Confirmation dialog shown"
        - "Status updates in real-time"
        - "Active status clearly visible"
      phase: 4
      status: "pending"

    - task_id: "TASK-061"
      title: "Implement Delete Survey Functionality"
      assigned_to: "admin_panel"
      priority: "Medium"
      effort: "S"
      estimated_hours: 3
      dependencies: ["TASK-052"]
      parallel_safe: false
      description: |
        Add delete functionality:
        - Delete button with confirmation
        - Warning if survey has responses
        - Call delete API
        - Remove from list on success
      acceptance_criteria:
        - "Delete confirmation required"
        - "Warning shown if responses exist"
        - "Survey deleted from database"
        - "List updates after delete"
      phase: 4
      status: "pending"

    - task_id: "TASK-062"
      title: "Implement Loading States and Error Handling"
      assigned_to: "admin_panel"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-055", "TASK-057"]
      parallel_safe: false
      description: |
        Add UX improvements:
        - Loading spinners for API calls
        - Error message display
        - Toast notifications for actions
        - Retry mechanisms
        - Optimistic UI updates
      acceptance_criteria:
        - "Loading states shown during API calls"
        - "Error messages user-friendly"
        - "Success notifications displayed"
        - "Page load time < 3 seconds"
      phase: 4
      status: "pending"

    - task_id: "TASK-063"
      title: "Implement Responsive Design for Mobile"
      assigned_to: "admin_panel"
      priority: "Medium"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-062"]
      parallel_safe: false
      description: |
        Optimize for mobile:
        - Test all pages on mobile viewports
        - Adjust layouts for small screens
        - Touch-friendly buttons
        - Mobile navigation
        - Test on real devices
      acceptance_criteria:
        - "All pages responsive"
        - "Usable on phones and tablets"
        - "Touch targets appropriately sized"
        - "No horizontal scroll"
      phase: 4
      status: "pending"

    - task_id: "TASK-064"
      title: "Implement Performance Optimization"
      assigned_to: "admin_panel"
      priority: "Medium"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-062"]
      parallel_safe: false
      description: |
        Optimize frontend performance:
        - Code splitting and lazy loading
        - Image optimization
        - Bundle size analysis
        - Caching strategies
        - Lighthouse audit and fixes
      acceptance_criteria:
        - "Initial load time < 3 seconds"
        - "Lighthouse score > 90"
        - "Bundle size optimized"
        - "Images lazy loaded"
      phase: 4
      status: "pending"

    - task_id: "TASK-065"
      title: "Phase 4 Testing: Admin Panel"
      assigned_to: "testing"
      priority: "High"
      effort: "L"
      estimated_hours: 7
      dependencies: ["TASK-063", "TASK-064"]
      parallel_safe: false
      description: |
        Test frontend functionality:
        - Component unit tests
        - Integration tests for forms
        - E2E tests for critical flows
        - Cross-browser testing
        - Accessibility testing
      acceptance_criteria:
        - "All components tested"
        - "Survey creation flow tested E2E"
        - "Works in Chrome, Firefox, Safari"
        - "Basic accessibility compliance"
      phase: 4
      status: "pending"

    - task_id: "TASK-066"
      title: "Phase 4 Documentation: Admin Panel Guide"
      assigned_to: "admin_panel"
      priority: "Medium"
      effort: "S"
      estimated_hours: 3
      dependencies: ["TASK-065"]
      parallel_safe: false
      description: |
        Document admin panel:
        - User guide with screenshots
        - Survey creation tutorial
        - Statistics interpretation guide
        - Export instructions
      acceptance_criteria:
        - "Complete admin guide created"
        - "Screenshots for all features"
        - "Step-by-step tutorials"
        - "Troubleshooting section"
      phase: 4
      status: "pending"

# ============================================================================
# PHASE 5: TESTING & DEPLOYMENT (Week 5 - Days 21-25)
# ============================================================================

phase_5_testing_deployment:
  phase_number: 5
  phase_name: "Testing & Deployment"
  duration: "Week 5 (Days 21-25)"
  goals:
    - "Comprehensive testing"
    - "Bug fixes"
    - "Deployment setup"
    - "Documentation finalization"

  tasks:
    - task_id: "TASK-067"
      title: "Comprehensive End-to-End Testing"
      assigned_to: "testing"
      priority: "High"
      effort: "XL"
      estimated_hours: 12
      dependencies: ["TASK-065", "TASK-046", "TASK-030"]
      parallel_safe: false
      description: |
        Full system E2E tests:
        - Complete survey creation flow
        - Survey taking via bot (all question types)
        - Response viewing in admin panel
        - Statistics calculation accuracy
        - CSV export verification
        - Error scenarios
      acceptance_criteria:
        - "All user flows tested E2E"
        - "Test cases documented"
        - "All critical paths covered"
        - "Test report generated"
      phase: 5
      status: "pending"

    - task_id: "TASK-068"
      title: "Performance and Load Testing"
      assigned_to: "testing"
      priority: "High"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-067"]
      parallel_safe: false
      description: |
        Load testing:
        - Bot response time under load
        - API endpoint performance
        - Database query optimization
        - Concurrent user testing
        - Test with 100+ concurrent survey takers
      acceptance_criteria:
        - "Bot responds < 2s under load"
        - "API handles 100 concurrent users"
        - "Panel loads < 3s"
        - "Performance report generated"
      phase: 5
      status: "pending"

    - task_id: "TASK-069"
      title: "Security Testing and Audit"
      assigned_to: "testing"
      priority: "High"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-067"]
      parallel_safe: true
      description: |
        Security audit:
        - SQL injection testing
        - XSS vulnerability check
        - JWT token security
        - CORS configuration
        - Sensitive data exposure
        - Bot token security
      acceptance_criteria:
        - "No critical vulnerabilities found"
        - "All endpoints require authentication"
        - "Input validation on all forms"
        - "Security checklist completed"
      phase: 5
      status: "pending"

    - task_id: "TASK-070"
      title: "Bug Fixing - Priority 1 (Critical)"
      assigned_to: "backend_api"
      priority: "High"
      effort: "L"
      estimated_hours: 8
      dependencies: ["TASK-067", "TASK-068", "TASK-069"]
      parallel_safe: false
      description: |
        Fix critical bugs:
        - Data loss issues
        - Authentication failures
        - Bot crashes
        - Response calculation errors
        - Any showstopper issues
      acceptance_criteria:
        - "All P1 bugs fixed"
        - "Fixes tested and verified"
        - "No regressions introduced"
        - "Bug list documented"
      phase: 5
      status: "pending"

    - task_id: "TASK-071"
      title: "Bug Fixing - Priority 2 (High)"
      assigned_to: "admin_panel"
      priority: "High"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-070"]
      parallel_safe: true
      description: |
        Fix high priority bugs:
        - UI rendering issues
        - Form validation errors
        - Navigation problems
        - Display inconsistencies
      acceptance_criteria:
        - "All P2 bugs fixed"
        - "UI consistent across browsers"
        - "Forms validate correctly"
        - "Navigation smooth"
      phase: 5
      status: "pending"

    - task_id: "TASK-072"
      title: "Bug Fixing - Priority 3 (Medium)"
      assigned_to: "telegram_bot"
      priority: "Medium"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-070"]
      parallel_safe: true
      description: |
        Fix medium priority bugs:
        - Minor UI issues
        - Edge case handling
        - Cosmetic problems
        - Non-critical errors
      acceptance_criteria:
        - "P3 bugs fixed (time permitting)"
        - "Known issues documented"
        - "Workarounds provided"
      phase: 5
      status: "pending"

    - task_id: "TASK-073"
      title: "Setup Docker Compose for Full Application"
      assigned_to: "project_setup"
      priority: "High"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-002"]
      parallel_safe: true
      description: |
        Create production docker-compose:
        - Backend API container
        - PostgreSQL container
        - Frontend container (Nginx)
        - Bot service container
        - Volume and network configuration
        - Environment variables
      acceptance_criteria:
        - "All services in docker-compose"
        - "Services communicate correctly"
        - "docker-compose up works"
        - "Persistent volumes configured"
      phase: 5
      status: "pending"

    - task_id: "TASK-074"
      title: "Create Deployment Scripts and CI/CD Pipeline"
      assigned_to: "project_setup"
      priority: "High"
      effort: "L"
      estimated_hours: 6
      dependencies: ["TASK-073"]
      parallel_safe: false
      description: |
        Setup deployment automation:
        - GitHub Actions or GitLab CI
        - Automated testing on PR
        - Build Docker images
        - Deploy to staging environment
        - Deployment documentation
      acceptance_criteria:
        - "CI pipeline runs tests"
        - "Docker images built automatically"
        - "Deployment script working"
        - "Staging environment available"
      phase: 5
      status: "pending"

    - task_id: "TASK-075"
      title: "Database Migration and Backup Strategy"
      assigned_to: "database"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-073"]
      parallel_safe: true
      description: |
        Setup database operations:
        - Migration scripts for production
        - Backup and restore procedures
        - Database initialization script
        - Rollback procedures
      acceptance_criteria:
        - "Migrations run on deploy"
        - "Backup script working"
        - "Restore tested"
        - "Procedures documented"
      phase: 5
      status: "pending"

    - task_id: "TASK-076"
      title: "Setup Monitoring and Logging"
      assigned_to: "project_setup"
      priority: "Medium"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-074"]
      parallel_safe: false
      description: |
        Implement monitoring:
        - Structured logging (Serilog to file/console)
        - Health check endpoints
        - Error tracking (optional: Sentry)
        - Performance monitoring
        - Dashboard for key metrics
      acceptance_criteria:
        - "Logs collected centrally"
        - "Health checks working"
        - "Error tracking functional"
        - "Monitoring dashboard available"
      phase: 5
      status: "pending"

    - task_id: "TASK-077"
      title: "Setup Environment Configuration Management"
      assigned_to: "project_setup"
      priority: "High"
      effort: "S"
      estimated_hours: 3
      dependencies: ["TASK-073"]
      parallel_safe: true
      description: |
        Configure environments:
        - Development environment settings
        - Staging environment
        - Production environment
        - Environment variable templates
        - Secrets management
      acceptance_criteria:
        - "Environment configs separated"
        - "Secrets not in source control"
        - "Template files provided"
        - "Configuration documented"
      phase: 5
      status: "pending"

    - task_id: "TASK-078"
      title: "Finalize API Documentation"
      assigned_to: "backend_api"
      priority: "Medium"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-070"]
      parallel_safe: true
      description: |
        Complete API documentation:
        - Update Swagger documentation
        - Add request/response examples
        - Document all error codes
        - Authentication flow documentation
        - Postman collection update
      acceptance_criteria:
        - "All endpoints documented"
        - "Examples for all operations"
        - "Error codes documented"
        - "Postman collection updated"
      phase: 5
      status: "pending"

    - task_id: "TASK-079"
      title: "Create User Documentation"
      assigned_to: "admin_panel"
      priority: "High"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-071"]
      parallel_safe: true
      description: |
        Write end-user documentation:
        - Getting started guide
        - Admin panel tutorial
        - Bot usage guide
        - FAQ
        - Troubleshooting guide
      acceptance_criteria:
        - "Complete user guide"
        - "Screenshots included"
        - "Video tutorials (optional)"
        - "FAQ covers common issues"
      phase: 5
      status: "pending"

    - task_id: "TASK-080"
      title: "Create Developer Documentation"
      assigned_to: "project_setup"
      priority: "Medium"
      effort: "M"
      estimated_hours: 5
      dependencies: ["TASK-074"]
      parallel_safe: true
      description: |
        Write developer documentation:
        - Architecture overview
        - Setup instructions
        - Development workflow
        - Contribution guidelines
        - Code style guide
        - Testing guide
      acceptance_criteria:
        - "Architecture documented"
        - "Setup guide complete"
        - "Contribution guide created"
        - "Code examples provided"
      phase: 5
      status: "pending"

    - task_id: "TASK-081"
      title: "Create Deployment Documentation"
      assigned_to: "project_setup"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-074", "TASK-075"]
      parallel_safe: false
      description: |
        Document deployment process:
        - Server requirements
        - Installation steps
        - Configuration guide
        - Telegram bot setup instructions
        - Troubleshooting deployment issues
      acceptance_criteria:
        - "Complete deployment guide"
        - "Server requirements listed"
        - "Step-by-step instructions"
        - "Troubleshooting section"
      phase: 5
      status: "pending"

    - task_id: "TASK-082"
      title: "Conduct Final User Acceptance Testing (UAT)"
      assigned_to: "testing"
      priority: "High"
      effort: "L"
      estimated_hours: 6
      dependencies: ["TASK-070", "TASK-071", "TASK-072"]
      parallel_safe: false
      description: |
        Final UAT:
        - Test all user scenarios
        - Verify all success criteria met
        - Performance benchmarks
        - User experience testing
        - Sign-off checklist
      acceptance_criteria:
        - "All acceptance criteria met"
        - "Survey creation < 5 minutes"
        - "Bot response < 2 seconds"
        - "Panel load < 3 seconds"
      phase: 5
      status: "pending"

    - task_id: "TASK-083"
      title: "Deploy to Production Environment"
      assigned_to: "project_setup"
      priority: "High"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-082", "TASK-074", "TASK-081"]
      parallel_safe: false
      description: |
        Production deployment:
        - Setup production server
        - Deploy application
        - Configure Telegram webhook
        - Verify all services running
        - Smoke testing in production
      acceptance_criteria:
        - "Application deployed to production"
        - "All services running"
        - "Telegram bot responding"
        - "Admin panel accessible"
      phase: 5
      status: "pending"

    - task_id: "TASK-084"
      title: "Post-Deployment Monitoring and Verification"
      assigned_to: "project_setup"
      priority: "High"
      effort: "S"
      estimated_hours: 3
      dependencies: ["TASK-083"]
      parallel_safe: false
      description: |
        Monitor production:
        - Check all health endpoints
        - Monitor logs for errors
        - Verify performance metrics
        - Test critical flows
        - 24-hour stability check
      acceptance_criteria:
        - "No critical errors in logs"
        - "Performance meets requirements"
        - "All features working"
        - "System stable for 24 hours"
      phase: 5
      status: "pending"

    - task_id: "TASK-085"
      title: "Create Project Handover Package"
      assigned_to: "project_setup"
      priority: "Medium"
      effort: "M"
      estimated_hours: 4
      dependencies: ["TASK-084"]
      parallel_safe: false
      description: |
        Prepare handover materials:
        - All documentation compiled
        - Source code repository
        - Deployment credentials (securely)
        - Known issues list
        - Future enhancement suggestions
        - Support contact information
      acceptance_criteria:
        - "Complete documentation package"
        - "Repository access provided"
        - "Credentials documented"
        - "Known issues listed"
      phase: 5
      status: "pending"

# ============================================================================
# PHASE 3+: CODEBASE ANALYSIS REMEDIATION (Critical Fixes - 2025-11-07)
# ============================================================================
# Based on comprehensive codebase analysis
# https://github.com/your-org/SurveyBot/issues/codebase-analysis

critical_compilation_fixes:
    - task_id: "TASK-086"
      title: "Fix JsonToOptionsResolver Property Reference Error"
      assigned_to: "backend_api"
      priority: "Critical"
      effort: "S"
      estimated_hours: 0.5
      dependencies: []
      parallel_safe: true
      description: |
        Fix compilation error in JsonToOptionsResolver.cs where 'source.Options'
        is referenced but the Question entity only has 'OptionsJson' property.

        File: C:\Users\User\Desktop\SurveyBot\src\SurveyBot.API\Mapping\Resolvers\JsonToOptionsResolver.cs

        Changes:
        - Line 14: Change 'source.Options' to 'source.OptionsJson'
        - Line 21: Change 'source.Options' to 'source.OptionsJson'
      acceptance_criteria:
        - "JsonToOptionsResolver.cs compiles without errors"
        - "Property references match Question entity definition"
        - "JSON deserialization works correctly"
        - "Mapping tests pass"
      phase: 3
      status: "pending"

    - task_id: "TASK-087"
      title: "Fix BotController ErrorResponse Property Mismatch"
      assigned_to: "telegram_bot"
      priority: "Critical"
      effort: "S"
      estimated_hours: 0.5
      dependencies: []
      parallel_safe: true
      description: |
        Fix compilation errors in BotController.cs webhook method where
        ErrorResponse.Error property is referenced but doesn't exist.
        ErrorResponse model uses StatusCode instead.

        File: C:\Users\User\Desktop\SurveyBot\src\SurveyBot.API\Controllers\BotController.cs

        Changes:
        - Line 65: Replace 'Error = "Unauthorized"' with 'StatusCode = StatusCodes.Status401Unauthorized'
        - Line 77: Replace 'Error = "BadRequest"' with 'StatusCode = StatusCodes.Status400BadRequest'
      acceptance_criteria:
        - "BotController.cs compiles without errors"
        - "ErrorResponse properties match model definition"
        - "Webhook endpoint returns correct HTTP status codes"
        - "Error responses properly set status codes"
      phase: 3
      status: "pending"

    - task_id: "TASK-088"
      title: "Fix AutoMapper Resolver Type Mismatch for ResponseListDto"
      assigned_to: "backend_api"
      priority: "Critical"
      effort: "M"
      estimated_hours: 1.5
      dependencies: []
      parallel_safe: true
      description: |
        Fix AutoMapper compilation error in ResponseMappingProfile.cs where
        resolvers are defined for ResponseDto but incorrectly used with ResponseListDto.
        Type constraint violation: IValueResolver<Response, ResponseDto, int> used for ResponseListDto.

        File: C:\Users\User\Desktop\SurveyBot\src\SurveyBot.API\Mapping\ResponseMappingProfile.cs
        Lines: 33, 35

        Solution: Use lambda expressions instead of typed resolvers for ResponseListDto mapping
        - Replace MapFrom<ResponseAnsweredCountResolver>() with lambda
        - Replace MapFrom<ResponseTotalQuestionsResolver>() with lambda
      acceptance_criteria:
        - "ResponseMappingProfile.cs compiles without type errors"
        - "AutoMapper configuration validates successfully"
        - "Response to ResponseDto mapping works"
        - "Response to ResponseListDto mapping works"
        - "Answer and question counts calculated correctly"
      phase: 3
      status: "pending"

    - task_id: "TASK-089"
      title: "Align Entity Framework Core Package Versions"
      assigned_to: "project_setup"
      priority: "High"
      effort: "S"
      estimated_hours: 1
      dependencies: ["TASK-086", "TASK-087", "TASK-088"]
      parallel_safe: false
      description: |
        Resolve Entity Framework Core version conflicts across solution.
        Current issue: EF Core packages at different versions (9.0.1.0 vs 9.0.10.0)
        causing MSB3277 warnings.

        Steps:
        1. Run 'dotnet list package --outdated' to identify all EF packages
        2. Update all EF Core packages to 9.0.10:
           - Microsoft.EntityFrameworkCore.Relational
           - Microsoft.EntityFrameworkCore.Npgsql
           - Microsoft.EntityFrameworkCore.Tools
           - Microsoft.EntityFrameworkCore.Design
        3. Clean and rebuild solution
        4. Run tests to verify no breaking changes
      acceptance_criteria:
        - "All projects use consistent EF Core 9.0.10"
        - "No version conflict warnings in build"
        - "Solution builds successfully"
        - "All tests pass with new versions"
      phase: 3
      status: "pending"

    - task_id: "TASK-090"
      title: "Verify Build After Critical Compilation Fixes"
      assigned_to: "testing"
      priority: "Critical"
      effort: "S"
      estimated_hours: 1
      dependencies: ["TASK-086", "TASK-087", "TASK-088", "TASK-089"]
      parallel_safe: false
      description: |
        Comprehensive build verification after fixing all compilation errors.

        Verification checklist:
        1. dotnet clean
        2. dotnet restore
        3. dotnet build (verify no errors)
        4. dotnet test --configuration Release
        5. Run AutoMapper configuration validation
        6. Verify webhook endpoint initialization
        7. Check no new warnings introduced
      acceptance_criteria:
        - "Solution builds without errors"
        - "Zero compiler warnings"
        - "All unit tests pass"
        - "All integration tests pass"
        - "AutoMapper configuration validates"
        - "No regressions detected"
      phase: 3
      status: "pending"

security_and_quality_fixes:

    - task_id: "TASK-091"
      title: "Add Environment-Based Webhook Secret Validation"
      assigned_to: "telegram_bot"
      priority: "High"
      effort: "M"
      estimated_hours: 2
      dependencies: ["TASK-087"]
      parallel_safe: false
      description: |
        Fix security vulnerability where webhook secret validation is bypassed
        if UseWebhook=false or WebhookSecret is empty, even in production.

        File: C:\Users\User\Desktop\SurveyBot\src\SurveyBot.API\Controllers\BotController.cs
        Method: ValidateWebhookSecret (lines 188-212)

        Implementation:
        1. Add IWebHostEnvironment dependency injection to BotController
        2. Modify ValidateWebhookSecret to check environment
        3. Production: Always require webhook secret (fail if missing)
        4. Development: Allow bypass but log warning
        5. Add validation on application startup
      acceptance_criteria:
        - "Production environment requires webhook secret"
        - "Missing secret in production returns 401 Unauthorized"
        - "Development mode allows bypass with warning"
        - "Startup validation prevents insecure deployment"
        - "Security test verifies bypass is blocked in production"
      phase: 3
      status: "pending"

    - task_id: "TASK-092"
      title: "Fix Telegram Bot Mock Type Signatures in Tests"
      assigned_to: "testing"
      priority: "High"
      effort: "M"
      estimated_hours: 3
      dependencies: ["TASK-090"]
      parallel_safe: true
      description: |
        Update unit test mocks to use correct Telegram.Bot API method signatures
        instead of generic 'It.IsAny<object>()' parameters.

        File: C:\Users\User\Desktop\SurveyBot\tests\SurveyBot.Tests\Unit\Bot\CompletionHandlerTests.cs
        Lines: 104-115, 191-202, and other similar patterns

        Changes:
        1. Replace 'SendMessage' with correct 'SendTextMessageAsync'
        2. Use proper parameter types:
           - ChatId (not object)
           - string message
           - ParseMode? (not object)
           - IEnumerable<MessageEntity>? (not object)
           - etc.
        3. Apply pattern to all Telegram bot mock setups
      acceptance_criteria:
        - "All Telegram bot mocks use correct method signatures"
        - "No nullable reference warnings in test files"
        - "Mock setups match Telegram.Bot 22.7.4 API"
        - "All bot handler tests pass"
      phase: 3
      status: "pending"

    - task_id: "TASK-093"
      title: "Remove Async/Await Warning from BotController Webhook"
      assigned_to: "telegram_bot"
      priority: "Medium"
      effort: "S"
      estimated_hours: 0.5
      dependencies: ["TASK-087"]
      parallel_safe: false
      description: |
        Fix CS1998 compiler warning where Webhook method is marked async
        but contains no await statements. Method uses fire-and-forget pattern
        with background queue.

        File: C:\Users\User\Desktop\SurveyBot\src\SurveyBot.API\Controllers\BotController.cs
        Method: Webhook (line 54)

        Recommended solution: Remove 'async' keyword, return Task<IActionResult>
        via Task.FromResult for synchronous code path.
      acceptance_criteria:
        - "No CS1998 warning on Webhook method"
        - "Method signature correct for ASP.NET Core"
        - "Webhook functionality unchanged"
        - "Background task processing still works"
      phase: 3
      status: "pending"

    - task_id: "TASK-094"
      title: "Standardize Test Naming Conventions Across Test Suite"
      assigned_to: "testing"
      priority: "Low"
      effort: "M"
      estimated_hours: 3
      dependencies: ["TASK-092"]
      parallel_safe: true
      description: |
        Standardize all test method names to follow consistent pattern:
        MethodName_GivenScenario_ExpectedOutcome

        Files to update:
        - C:\Users\User\Desktop\SurveyBot\tests\SurveyBot.Tests\Unit\Services\QuestionServiceTests.cs
        - C:\Users\User\Desktop\SurveyBot\tests\SurveyBot.Tests\Unit\Services\SurveyServiceTests.cs
        - Integration test files with inconsistent naming

        Examples of updates:
        - GetQuestionAsync_WithValidId_ReturnsQuestion
           GetQuestionAsync_ValidIdProvided_ReturnsQuestion

        Create test naming guidelines document for future tests.
      acceptance_criteria:
        - "All test methods follow MethodName_GivenScenario_ExpectedOutcome pattern"
        - "Test naming guidelines documented and committed"
        - "All tests still pass after renaming"
        - "Test names are more descriptive and discoverable"
      phase: 5
      status: "pending"

    - task_id: "TASK-095"
      title: "Extract Test Data Magic Numbers to Named Constants"
      assigned_to: "testing"
      priority: "Low"
      effort: "M"
      estimated_hours: 2
      dependencies: []
      parallel_safe: true
      description: |
        Replace hardcoded magic numbers in integration tests with named
        constants for better readability and maintainability.

        Create TestConstants.cs with:
        - Test user Telegram IDs: TestUser1TelegramId, TestUser2TelegramId, etc.
        - Test usernames and names
        - Survey and question constants
        - Timeout and default values

        Update files using values like 123456789, 111111111, 222222222, 999888777
      acceptance_criteria:
        - "TestConstants class created with well-named values"
        - "No magic numbers in test files"
        - "All tests pass after refactoring"
        - "Test data meaning clear from constant names"
      phase: 5
      status: "pending"

    - task_id: "TASK-096"
      title: "Improve Test Assertions in DataValidationTests"
      assigned_to: "testing"
      priority: "Low"
      effort: "S"
      estimated_hours: 1.5
      dependencies: []
      parallel_safe: true
      description: |
        Fix incomplete test assertions in DataValidationTests.cs where
        SaveAnswer_WithInvalidFormat_ShouldFail has conditional logic
        without explicit assertion when validation passes.

        File: C:\Users\User\Desktop\SurveyBot\tests\SurveyBot.Tests\Integration\DataValidationTests.cs
        Lines: 176-182

        Make test behavior explicit and document MVP limitations clearly.
      acceptance_criteria:
        - "Test has explicit assertions for all code paths"
        - "MVP behavior documented in test comments"
        - "Test clearly indicates expected vs future behavior"
        - "No ambiguous test outcomes"
      phase: 5
      status: "pending"

    - task_id: "TASK-097"
      title: "Add Validation to EntityBuilder Test Helper"
      assigned_to: "testing"
      priority: "Low"
      effort: "M"
      estimated_hours: 2
      dependencies: []
      parallel_safe: true
      description: |
        Add validation to EntityBuilder to ensure created test entities
        meet business rules and prevent invalid test data creation.

        File: C:\Users\User\Desktop\SurveyBot\tests\SurveyBot.Tests\Helpers\EntityBuilder.cs

        Add validation for:
        - Survey title length (minimum 3 characters)
        - Question text not empty
        - Valid question type values
        - Creator ID validation

        Create separate ValidXxx factory methods for explicit valid entity creation
      acceptance_criteria:
        - "EntityBuilder validates input parameters"
        - "Invalid parameters throw ArgumentException with clear message"
        - "All existing tests still pass"
        - "Test data quality and reliability improved"
      phase: 5
      status: "pending"

    - task_id: "TASK-098"
      title: "Remove Unused Using Statements Across Solution"
      assigned_to: "backend_api"
      priority: "Low"
      effort: "S"
      estimated_hours: 1
      dependencies: []
      parallel_safe: true
      description: |
        Clean up codebase by removing unused using statements across all projects.

        Approach:
        1. Configure .editorconfig with IDE0005 rule for unused usings
        2. Use IDE cleanup tools (Visual Studio: Ctrl+R, Ctrl+G)
        3. Run cleanup on all .cs files
        4. Verify build still succeeds
        5. Commit cleanup changes

        Apply to:
        - SurveyBot.Core
        - SurveyBot.Infrastructure
        - SurveyBot.API
        - SurveyBot.Bot
        - SurveyBot.Tests
      acceptance_criteria:
        - "No unused using statements in solution"
        - ".editorconfig configured to warn on unused usings"
        - "Solution builds without errors"
        - "Code cleanup settings documented"
      phase: 5
      status: "pending"

    - task_id: "TASK-099"
      title: "Code Quality Review and Documentation Update"
      assigned_to: "backend_api"
      priority: "Medium"
      effort: "M"
      estimated_hours: 3
      dependencies: ["TASK-090", "TASK-091", "TASK-093"]
      parallel_safe: true
      description: |
        Comprehensive code quality review after critical fixes and final documentation update.

        Review tasks:
        1. Verify all CRITICAL/HIGH priority issues from analysis are resolved
        2. Update CLAUDE.md with architectural changes and fixes
        3. Document security improvements (webhook validation)
        4. Update troubleshooting guide with compilation error solutions
        5. Review remaining technical debt items
        6. Create final remediation summary report

        Files to update:
        - C:\Users\User\Desktop\SurveyBot\CLAUDE.md
        - Troubleshooting documentation
        - Security documentation
      acceptance_criteria:
        - "All critical and high priority issues resolved"
        - "CLAUDE.md updated with changes and security notes"
        - "Troubleshooting guide includes new fixes"
        - "Remediation summary report created"
        - "Known issues documented for future reference"
      phase: 5
      status: "pending"

# ============================================================================
# SUMMARY
# ============================================================================

summary:
  total_tasks: 99
  total_estimated_hours: 402.5

  note: "14 tasks added 2025-11-07 from codebase analysis remediation"
  critical_fixes_added: 5
  security_fixes_added: 2
  test_quality_improvements_added: 7
  phases:
    - phase: 1
      name: "Foundation"
      tasks: 16
      hours: 57
    - phase: 2
      name: "Core Features"
      tasks: 15
      hours: 67
    - phase: 3
      name: "Bot Integration"
      tasks: 16
      hours: 73
    - phase: 4
      name: "Admin Panel"
      tasks: 19
      hours: 93
    - phase: 5
      name: "Testing & Deployment"
      tasks: 19
      hours: 90

  agent_workload:
    project_setup:
      tasks: 11
      hours: 46
    database:
      tasks: 6
      hours: 21
    backend_api:
      tasks: 19
      hours: 79
    telegram_bot:
      tasks: 14
      hours: 67
    admin_panel:
      tasks: 17
      hours: 88
    testing:
      tasks: 8
      hours: 45

  critical_path:
    - "TASK-001: Project setup"
    - "TASK-004: Database schema design"
    - "TASK-007: Initial migration"
    - "TASK-020: Survey service"
    - "TASK-034: Survey start command"
    - "TASK-054: Question editor"
    - "TASK-067: E2E testing"
    - "TASK-083: Production deployment"

  success_criteria_mapping:
    survey_creation_time:
      target: "< 5 minutes"
      tasks: ["TASK-053", "TASK-054", "TASK-055"]
    bot_response_time:
      target: "< 2 seconds"
      tasks: ["TASK-044", "TASK-068"]
    panel_load_time:
      target: "< 3 seconds"
      tasks: ["TASK-064", "TASK-068"]

  risk_factors:
    - "Telegram API rate limits"
    - "Database performance with large response sets"
    - "Frontend complexity of survey builder"
    - "Bot conversation state management"
    - "CSV export for very large datasets"

  parallel_execution_opportunities:
    phase_1:
      - "TASK-001 and TASK-002 and TASK-004 can run in parallel"
    phase_2:
      - "TASK-018 can run parallel to TASK-017"
      - "TASK-024 can start while backend work continues"
    phase_4:
      - "TASK-048 can start early in Phase 3"
      - "TASK-059 can run parallel to frontend work"
    phase_5:
      - "Multiple bug fixing tasks can run in parallel"
      - "Documentation tasks can run in parallel"
